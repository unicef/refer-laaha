!function(n,e){e.behaviors.location={attach(e,t){n(document).ready(function(){const e=document.getElementById("edit-proceed");null!=e&&e.addEventListener("click",()=>{const e=document.getElementById("download-message-box"),t=document.getElementById("download-message");t.innerHTML="File download successful, please wait for the download to finish.",e.style.display="flex"})})}}}(jQuery,Drupal,drupalSettings),function(s,o,l){o.behaviors.erpwDeleteUser={attach(e,t){function n(){window.location.href="/users-list"}s(l("erpw-delete-user",".delete-user-button",e)).on("click",function(e){e.preventDefault();const t=s(this).data("user-id");e={title:o.t("Are you sure you want to delete the user?"),dialogClass:"delete-user-popup",buttons:{Proceed(){var e;s(this).dialog("close"),e=t,s.ajax({url:"/delete-user/"+e,type:"POST",dataType:"json",success(e){var t;"success"===e.status?(t={title:o.t("Deleted successfully"),dialogClass:"delete-user-popup",buttons:{"Back to users list":function(){s(this).dialog("close"),n()}}},s(`<div class='message-delete-white'>${e.message}</div>`).dialog(t)):(t={title:o.t("Access Denied!"),dialogClass:"delete-user-popup",buttons:{"Back to users list":function(){s(this).dialog("close"),n()}}},s(`<div class='message-delete-white'>${e.message}</div>`).dialog(t))}})},Cancel(){s(this).dialog("close")}}};s(`<div class='message-delete-white'>${o.t("Click on proceed to delete or cancel to go back.")}</div>`).dialog(e)})}}}(jQuery,Drupal,(drupalSettings,once)),function(e){e.behaviors.erpw_status={attach(e,t){function n(e,t){const n=document.getElementById("status"),s=document.getElementById("dot");t?(n.innerHTML="Online",n.classList.add("online"),n.classList.remove("offline"),s.classList.add("green-dot"),s.classList.remove("red-dot")):(n.innerHTML="Offline",n.classList.add("offline"),n.classList.remove("online"),s.classList.add("red-dot"),s.classList.remove("green-dot"))}window.addEventListener("load",function(e){navigator.onLine?n(0,!0):n(0,!1)},!1),window.addEventListener("online",function(e){n(0,!0)},!1),window.addEventListener("offline",function(e){n(0,!1)},!1)}}}((jQuery,Drupal),drupalSettings),function(n,e){e.behaviors.form_select={attach(e,t){0===n("select option:selected").val()&&n("select").css("color","#E0D7D7"),n("select").on("change",function(){return 0===n(this).children("option:selected").val()?n(this).css("color","#E0D7D7"):n(this).css("color","#444")}),n("form [id^='edit-submit'], form [id^='edit-next']").click(function(){n("form input[required='required']").each(function(){""===n(this).val()?n(this).css("border","2px solid red"):n(this).css("border","1px solid #F3C1BF")}),n(".form-select").change(function(){0===n(this).children("option:selected").val()&&0===n(this).children("option").val()?n(this).css("border","2px solid red"):n(this).css("border","1px solid #F3C1BF")}),n("label.error").parent(".select2-container .select2-selection").css("border","2px solid red")})}}}(jQuery,Drupal,drupalSettings),function(n,s){s.behaviors.icon_color_picker={attach(e,t){n(document).ready(function(){n(".field--name-field-service-type-icon .js-form-type-textfield").css("margin-top",120),n(".fip-box").click(function(){}),n(".color_field_widget_box__square").each(function(){var e=n(this).css("background-color");n(this).css("border-color",e)});const t=n("body").find(".icons-selector").children(".selector").find("span.selected-icon");n(".color_field_widget_box__square").click(function(){var e=n(this).css("background-color");n(t).css("background-color",e),console.log(t)});var e=n(".color_field_widget_box__square.active").css("background-color");n(t).css("background-color",e);e=s.t('<div class="review-msg">Deleted successfully</div><div class="popup-content">The details has been successfully Deleted.</div>');n(".page-node-type-service-type .delete-screen").parents("body").find(".ui-dialog .ui-dialog-title").html(e)})}}}(jQuery,Drupal,drupalSettings),function(n,e){e.behaviors.menu_list={attach(e,t){n(".bottom-menu-icon").click(function(){n('[id^="block-erpw-main-menu"]').append("<span class='close-popup'></span>"),n('[id^="block-erpw-main-menu"]').show(),n(".overlay").show(),n(".close-popup").click(function(e){e.preventDefault(),n('.overlay, [id^="block-erpw-main-menu"]').hide(),n(".close-popup").remove()})})}}}(jQuery,Drupal,drupalSettings),function(l,e,i){e.behaviors.popup={attach(t,n){l(".sign-in-popup").length&&(l(".sign-in-popup").show(),l(".overlay").show(),l(".close-popup, .skip").click(function(e){e.preventDefault(),l(".sign-in-popup, .overlay").hide()})),l(".overlay").on("click",function(){l(".sign-in-popup").hide(),l('[id^="block-erpw-main-menu"]').hide(),l(this).hide(),l(".close-popup").remove()}).appendTo(l(document.body)),l("#block-pwaaddtohomescreen img").click(function(){document.cookie="pwacookie=true",localStorage.setItem("pwacookie","true"),l(".block-pwa-add-to-home-screen").addClass("hidden")}),"true"===localStorage.getItem("pwacookie")?l(".block-pwa-add-to-home-screen").addClass("hidden"):l(".block-pwa-add-to-home-screen").removeClass("hidden"),window.matchMedia("(display-mode: standalone)").matches&&l(".block-pwa-add-to-home-screen").addClass("hidden");let s;const o=document.createElement("button");window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),s=e;e=n.pwaA2hs.pwaA2hsPrompt.buttonText;o.innerHTML=e,l(i("showButton",".pwa-a2hs",t)).each(function(){l(this).removeClass("pwa-a2hs hidden").addClass("pwa-a2hs-active show").append(o)}),o.addEventListener("click",()=>{s.prompt(),s.userChoice.then(e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),s=null})})})}}}(jQuery,Drupal,(drupalSettings,once)),function(B,e,D,j){let S=!1;e.behaviors.erpw_service_rating={attach(e,t){const n=window.location.pathname;if(n.includes("users-list")){const u=document.getElementsByClassName("edit-delete-links");for(let e=0;e<u.length;e++){var s,o=u[e]?.attributes[1]?.value;null==o||null!=(s=D.user.uid??null)&&null!=o&&0<parseInt(D.user.uid)&&s===o&&"none"!==u[e].style.display&&(u[e].style.display="none")}}var l=n.split("/");const i=l[l.length-1];if(n.includes("admin/structure/webform/manage/webform_service_rating_")){const p=document.getElementById("block-erpw-help");null!=p&&(p.style.display="none");const m=document.getElementById("block-erpw-local-actions"),h=m.getElementsByClassName("action-links");if(null!=h&&(h[0].style.display="none"),null==document.getElementById("rating-action-block")){const g=document.createElement("div");g.classList.add("service-rating-action-links"),g.id="rating-action-block";const f=document.createElement("ul");let e="";null!=i&&(e="/"+i.split("_")[3]);var a=t.path.baseUrl+t.path.currentLanguage;const v=document.createElement("a");v.classList.add("add-new-question"),v.href=a+"/add-service-rating-question"+e,v.textContent="+ Add New Question";const b=document.createElement("li");b.appendChild(v);const w=document.createElement("button");w.id="service-rating-form-publish-btn",w.textContent="Loading..",B.ajax({url:"/service-rating-form/"+i,method:"GET",success(e){document.getElementById("service-rating-form-publish-btn").textContent=e.form_status},error(e,t,n){console.error("Ajax request failed: "+n)}});const y=document.createElement("li");y.appendChild(w),f.appendChild(b),f.appendChild(y),g.appendChild(f),m.append(g)}}if(B(j("click","#service-rating-form-publish-btn")).on("click",function(e){e.preventDefault(),B.ajax({url:"/service-rating-form/publish/"+i,method:"POST",success(e){document.getElementById("service-rating-form-publish-btn").textContent=e.form_button_text},error(e,t,n){console.error("Ajax request failed: "+n)}})}),!S){if(n.includes("service-feedback-form")){const k=document.getElementsByClassName("fieldset-legend");if(null!=k&&0<k.length){let t=1;for(let e=0;e<k.length;e++)k[e].textContent=t.toString()+". "+k[e].textContent,t+=1}}S=!0}a=document.getElementsByClassName("average-service-ratings-box")[0];if(null!=a&&null!=a.children){var c=a.children[0]?.children?.[0]?.textContent;if(null!=c){const E=document.getElementById("overall-average-ratings").children;for(let e=c;e<5;e++)E[e].classList.add("star-empty")}}var c=document.getElementsByClassName("service-ratings-services-list")?.[0],r=null!=c?c.classList:[];if(null!=c&&null!=c.children)for(const C of c.children){var d=C.getElementsByClassName("service-average-rating")[0]?.innerText.replace(/\s/g,"");if(null!=d){const x=(1<r.length?C.children[1]:C.children[2]).children;for(let e=d;e<5;e++)x[e].classList.add("star-empty");3<d?C.getElementsByClassName("rating-arrow-image")[0].classList.add("rating-arrow-image-green"):C.getElementsByClassName("rating-arrow-image")[0].classList.add("rating-arrow-image-red")}}c=document.getElementsByClassName("webform-forms");if(null!=c){c=c[0]?.children?.[1];if(null!=c)for(const _ of c?.children){const L=_?.children[0]?.children?.[0]?.attributes?.[0]?.value;L?.includes("webform-service-rating")&&(_.style.display="none")}}}}}(jQuery,Drupal,drupalSettings,once);